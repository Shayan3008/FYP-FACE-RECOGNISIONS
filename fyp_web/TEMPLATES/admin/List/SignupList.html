{% extends 'admin/List/Base.html' %}

{% block DocumentTitle %}
Policeman
{% endblock %}

{% block Title %}
Policeman
{% endblock %}

{% block AddTitle %}
Policeman
{% endblock %}


{% block TableHeads %}
{% for link in list2 %}
<th>{{link}}</th>
{% endfor %}
{% endblock %}


{% block TableBody %}
{% for link in list %}
<tr>
    <td>{{forloop.counter}}</td>
    <td>{{link.area_id}}</td>
    <td>{{link.email}}</td>
    <td>{{link.id}}</td>
    <td>
        <button accesskey={{link.id}} class="Update">Update</button>
        <button accesskey={{link.id}} class="Delete">Delete</button>
    </td>

</tr>
{% endfor %}
{% endblock %}

{% block Script %}
<script>
    document.querySelector(".Add").addEventListener("click", (Event) => {
        window.location = "/Forms/PoliceForm"
    })

    document.querySelectorAll(".Update").forEach(node => {
        node.addEventListener("click", (event) => {
            localStorage.clear()
            localStorage.setItem("data", JSON.stringify({
                "id": event.target.accessKey,
                "Area_Name": event.target.name
            }))
            window.location = "/Forms/PoliceForm/"
        })
    })

    document.querySelector(".Delete").addEventListener("click", (Event) => {
        console.log("click")
    })
</script>
{% endblock %}